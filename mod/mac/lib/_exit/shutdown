

___x_cmd_mac_shutdown(){
    [ $# -gt 0 ]    ||  set -- --normal

    case "$1" in
        -y|--yes)       ___x_cmd_mac_shutdown_confirm   ;;
        --normal)       ___x_cmd_mac_shutdown_normal    ;;
        *)              N=mac M="Unknown op for 'x mac shutdown'" log:ret:64
    esac
}

___x_cmd_mac_shutdown_normal(){
    osascript -e 'tell app "loginwindow" to «event aevtrsdn»'
}

___x_cmd_mac_shutdown_confirm(){
    osascript -e 'tell app "System Events" to shut down'
}
